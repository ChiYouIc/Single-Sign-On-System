<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.cy.server.web.log.mapper.LogMapper">

    <insert id="insertOperationLog" parameterType="cn.cy.log.bo.OperationLog" useGeneratedKeys="true" keyColumn="id">
        insert into log_operation(traceId, operator_id, operator_name, method, params, result, description, operation, operation_status, throwable, operation_time)
        values (#{traceId},
                #{operator.id},
                #{operator.operatorName},
                #{method},
                #{params},
                #{result},
                #{description},
                #{operation},
                #{operationStatus},
                #{throwable},
                #{operationTime})
    </insert>

    <insert id="insertAuditLogList" parameterType="arraylist">
        insert into log_audit(traceId, audit_Content, level, operation_time) values
        <foreach collection="list" item="l" separator=",">
            (
            #{l.traceId},
            #{l.auditContent},
            #{l.level},
            #{l.operationTime}
            )
        </foreach>
    </insert>
</mapper>